<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="Jokes.css">
    <title>Joke API</title>
</head>
<body>

    <div class="setup-container" onclick="clickjoke()" disable = true>
        
        <h1 id="setup"></h1>
    </div>
    <div>
        <button onclick="next()">next</button>
        <h1 id="array"></h1>
        <button onclick="previous()">previous</button>
    </div>



    <div class="punchline-container">
        
        <h3 id="punch-line"></h3>

     </div>

    <script>
        let data
        let showPunchLine = true
        let jokeArray = [];
        let index = 0
        let numArray = [1,7,65,87,99]

        console.log(jokeArray)

        async function getRandomJoke(){

            document.getElementById("punch-line").disable = true
            const response = await fetch ("https://official-joke-api.appspot.com/jokes/random")
            Data = await response.json()
            console.log(Data)
            jokeArray.push(data)
            console.log(jokeArray)

            document.getElementById("setup").innerHTML = Data.setup
            document.getElementById("punch-line").innerHTML = Data.punchline
            document.getElementById("punch-line").disable = false

            showPunchLine = true
        }

        function clickjoke(){

            if(showPunchLine){
                document.getElementById("punch-line").innerHTML = Data.punchline
                console.log("proccessed")
                showPunchLine = false
            }else{
                getRandomJoke()
            }

        }
        function next(){
            index++
            display();
            console.log("pressed")
        }
        function previous(){
            if(index >0){
                index = index - 1
                display();
            }else{
                index = numArray.length()
                display();
            }
        }

        function display(){
            document.getElementById("array").innerHTML = numArray[index]
        }
        display();
        getRandomJoke()
        // console.log(setup)

    </script>



</body>
</html>